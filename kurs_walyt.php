<?php 
  // ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ðµ ÐºÑƒÑ€ÑÑ‹ Ð²Ð°Ð»ÑŽÑ‚ Ð² rss-Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ Ñ ÑÐ°Ð¹Ñ‚Ð° www.cbr.ru 
  $content = get_content(); 
  // Ð Ð°Ð·Ð±Ð¸Ñ€Ð°ÐµÐ¼ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ, Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸ Ñ€ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹ 
  $pattern = "#<Valute ID=\"([^\"]+)[^>]+>[^>]+>([^<]+)[^>]+>[^>]+>[^>]+>[^>]+>[^>]+>[^>]+>([^<]+)[^>]+>[^>]+>([^<]+)#i"; 
  preg_match_all($pattern, $content, $out, PREG_SET_ORDER); 
  $dollar = ""; 
  $euro = ""; 
  foreach($out as $cur) 
  { 
    if($cur[2] == 840) $dollar = str_replace(",",".",$cur[4]); 
    if($cur[2] == 978) $euro   = str_replace(",",".",$cur[4]); 
  } 
$otwet= "ðŸ’µÐ”Ð¾Ð»Ð»Ð°Ñ€ - ".$dollar."<br>
ðŸ’¶Ð•Ð²Ñ€Ð¾ - ".$euro."<br>";
  function get_content() 
  { 
    // Ð¤Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÐ¼ ÑÐµÐ³Ð¾Ð´Ð½ÑÑˆÐ½ÑŽÑŽ Ð´Ð°Ñ‚Ñƒ 
    $date = date("d/m/Y"); 
    // Ð¤Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÐ¼ ÑÑÑ‹Ð»ÐºÑƒ 
    $link = "http://www.cbr.ru/scripts/XML_daily.asp?date_req=$date"; 
    // Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ HTML-ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ 
    $fd = fopen($link, "r"); 
    $text=""; 
    if (!$fd) echo "Ð—Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°ÐµÐ¼Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°"; 
    else 
    { 
      // Ð§Ñ‚ÐµÐ½Ð¸Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð° Ð² Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ $text 
      while (!feof ($fd)) $text .= fgets($fd, 4096); 
    } 
    // Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ð¹ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ñ‹Ð¹ Ð´ÐµÑÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ñ€ 
    fclose ($fd); 
    return $text; 
  } 
?>